\hypertarget{classMotor}{}\doxysection{Motor Class Reference}
\label{classMotor}\index{Motor@{Motor}}


A class containing functions for driving a single motor using the {\bfseries{M\+D-\/\+L6205D}} chip.  




{\ttfamily \#include $<$Motor.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMotor_a1508ef3b178ebbc9efb702f18dd405e3}{Motor}} (int Pin\+\_\+\+En, int Pin\+\_\+1, int Pin\+\_\+2, Motor\+\_\+\+Number mot\+\_\+num)
\begin{DoxyCompactList}\small\item\em Initialize the {\bfseries{\mbox{\hyperlink{classMotor}{Motor}}}} class object, create appropriate P\+WM channels, and initially disable motors. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMotor_a4cbefe961c780361fefdb16eea4fe33e}\label{classMotor_a4cbefe961c780361fefdb16eea4fe33e}} 
void \mbox{\hyperlink{classMotor_a4cbefe961c780361fefdb16eea4fe33e}{enable}} (void)
\begin{DoxyCompactList}\small\item\em Enable the motor by raising the enable pin to a logical high state. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMotor_ae7e38a8e6fa450b56b06e83e93b2654b}\label{classMotor_ae7e38a8e6fa450b56b06e83e93b2654b}} 
void \mbox{\hyperlink{classMotor_ae7e38a8e6fa450b56b06e83e93b2654b}{disable}} (void)
\begin{DoxyCompactList}\small\item\em Disbale the motor by lowering the enable pin to a logical low state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMotor_af8511cc423185dfdb783a9cee1696e79}{set}} (int16\+\_\+t pwm)
\begin{DoxyCompactList}\small\item\em Set the motor P\+WM to the passed parameter. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMotor_a9dc225bd98371eec21e147d0ff960ce5}{stop}} (void)
\begin{DoxyCompactList}\small\item\em Stop motor rotation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMotor_a80561f11613af395e8dfd9934b217f6e}{check\+Overcurrent}} (void)
\begin{DoxyCompactList}\small\item\em Check for overcurrent conditions in the motor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMotor_af2a0066f52e8e57582b5fa67484081ec}{clear\+Overcurrent}} (void)
\begin{DoxyCompactList}\small\item\em Clear for overcurrent conditions in the motor. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classMotor_a8f658b7d6f245359a1d962c339dd6493}{Flag\+Chk}} (Mot\+Flag flag)
\begin{DoxyCompactList}\small\item\em Check \mbox{\hyperlink{classMotor}{Motor}} flags. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classMotor_a7e318182af63ca97083fcc50a4de0826}\label{classMotor_a7e318182af63ca97083fcc50a4de0826}} 
int8\+\_\+t \mbox{\hyperlink{classMotor_a7e318182af63ca97083fcc50a4de0826}{bot\+\_\+mot\+\_\+A}} = 0
\begin{DoxyCompactList}\small\item\em Current \mbox{\hyperlink{classMotor}{Motor}} P\+WM. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMotor_aa3e0f7be189db84218c88733bda344be}\label{classMotor_aa3e0f7be189db84218c88733bda344be}} 
bool \mbox{\hyperlink{classMotor_aa3e0f7be189db84218c88733bda344be}{enabled}} = false
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classMotor}{Motor}} Enable Flag. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMotor_ae59505b3c7f4c8364053adc022dee159}\label{classMotor_ae59505b3c7f4c8364053adc022dee159}} 
bool \mbox{\hyperlink{classMotor_ae59505b3c7f4c8364053adc022dee159}{mot\+\_\+error}} = false
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classMotor}{Motor}} Overcurrent Flag. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMotor_a4dec4469cc65d50e4d714df0c377f3de}\label{classMotor_a4dec4469cc65d50e4d714df0c377f3de}} 
int \mbox{\hyperlink{classMotor_a4dec4469cc65d50e4d714df0c377f3de}{PinE}} = 0
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classMotor}{Motor}} Enable Pin. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMotor_a92723074503dbdae3019103ac62d80f2}\label{classMotor_a92723074503dbdae3019103ac62d80f2}} 
int \mbox{\hyperlink{classMotor_a92723074503dbdae3019103ac62d80f2}{Pin1}} = 0
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classMotor}{Motor}} Pin 1. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMotor_a6e4dab63a7dc4c9affea916605d84045}\label{classMotor_a6e4dab63a7dc4c9affea916605d84045}} 
int \mbox{\hyperlink{classMotor_a6e4dab63a7dc4c9affea916605d84045}{Pin2}} = 0
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classMotor}{Motor}} Pin 2. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMotor_a51efd78a7080bc99f36e7f5b5d443019}\label{classMotor_a51efd78a7080bc99f36e7f5b5d443019}} 
uint8\+\_\+t \mbox{\hyperlink{classMotor_a51efd78a7080bc99f36e7f5b5d443019}{motor\+\_\+channel\+\_\+1}} = 0
\begin{DoxyCompactList}\small\item\em P\+WM Channel 1. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMotor_a9062f0ee0ba3f2575fc9f3d402d2d9d5}\label{classMotor_a9062f0ee0ba3f2575fc9f3d402d2d9d5}} 
uint8\+\_\+t \mbox{\hyperlink{classMotor_a9062f0ee0ba3f2575fc9f3d402d2d9d5}{motor\+\_\+channel\+\_\+2}} = 0
\begin{DoxyCompactList}\small\item\em P\+WM Channel 2. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMotor_aba5c1c941cc9b26d8e64009c144b23d8}\label{classMotor_aba5c1c941cc9b26d8e64009c144b23d8}} 
int16\+\_\+t \mbox{\hyperlink{classMotor_aba5c1c941cc9b26d8e64009c144b23d8}{current\+\_\+pwm}} = 0
\begin{DoxyCompactList}\small\item\em Current \mbox{\hyperlink{classMotor}{Motor}} P\+WM. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMotor_a6706fe8b14cdee77566a44e51ef27a1c}\label{classMotor_a6706fe8b14cdee77566a44e51ef27a1c}} 
int16\+\_\+t \mbox{\hyperlink{classMotor_a6706fe8b14cdee77566a44e51ef27a1c}{curr\+\_\+abs\+\_\+pwm}} = 0
\begin{DoxyCompactList}\small\item\em Current absolute P\+WM. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A class containing functions for driving a single motor using the {\bfseries{M\+D-\/\+L6205D}} chip. 

A class containing functions for driving a single motor using {\bfseries{M\+D-\/\+L6205D}} chip. Methods include enabling, disabling, setting a desired P\+WM, checking for overcurrent conditions and clearing overcurrent conditions. This class does {\bfseries{N\+OT}} implement a control system and thereby only governs motor P\+WM and not necessarily motor speed. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classMotor_a1508ef3b178ebbc9efb702f18dd405e3}\label{classMotor_a1508ef3b178ebbc9efb702f18dd405e3}} 
\index{Motor@{Motor}!Motor@{Motor}}
\index{Motor@{Motor}!Motor@{Motor}}
\doxysubsubsection{\texorpdfstring{Motor()}{Motor()}}
{\footnotesize\ttfamily Motor\+::\+Motor (\begin{DoxyParamCaption}\item[{int}]{Pin\+\_\+\+En,  }\item[{int}]{Pin\+\_\+1,  }\item[{int}]{Pin\+\_\+2,  }\item[{Motor\+\_\+\+Number}]{mot\+\_\+num }\end{DoxyParamCaption})}



Initialize the {\bfseries{\mbox{\hyperlink{classMotor}{Motor}}}} class object, create appropriate P\+WM channels, and initially disable motors. 

Initialize the motor class object and attach it to the provided enable and P\+WM pins. Additionally, assign a motor number. The motor number helps differentiate different instances of {\bfseries{\mbox{\hyperlink{classMotor}{Motor}}}} classes and also allows for automatic generation of P\+WM channels. Then, lower the enable pin to disable the motor until the \mbox{\hyperlink{classMotor_a4cbefe961c780361fefdb16eea4fe33e}{enable}} method is called. 
\begin{DoxyParams}{Parameters}
{\em Pin\+\_\+\+En} & The pin number of {\bfseries{Pin}} object to which the motor enable pin is attached. \\
\hline
{\em Pin\+\_\+1} & The pin number or {\bfseries{Pin}} object to which the first motor P\+WM pin is attached. \\
\hline
{\em Pin\+\_\+2} & The pin number or {\bfseries{Pin}} object to which the second motor P\+WM pin is attached. \\
\hline
{\em mot\+\_\+num} & A unique number assigned to the motor for generating unique P\+WM channels and motor identification. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classMotor_a80561f11613af395e8dfd9934b217f6e}\label{classMotor_a80561f11613af395e8dfd9934b217f6e}} 
\index{Motor@{Motor}!checkOvercurrent@{checkOvercurrent}}
\index{checkOvercurrent@{checkOvercurrent}!Motor@{Motor}}
\doxysubsubsection{\texorpdfstring{checkOvercurrent()}{checkOvercurrent()}}
{\footnotesize\ttfamily void Motor\+::check\+Overcurrent (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Check for overcurrent conditions in the motor. 

If overcurrent conditions are detected by the {\bfseries{M\+D-\/\+L6205D}} chip, the chip attempts to pull the enable pin low This can be checked by reading this pin. \mbox{\Hypertarget{classMotor_af2a0066f52e8e57582b5fa67484081ec}\label{classMotor_af2a0066f52e8e57582b5fa67484081ec}} 
\index{Motor@{Motor}!clearOvercurrent@{clearOvercurrent}}
\index{clearOvercurrent@{clearOvercurrent}!Motor@{Motor}}
\doxysubsubsection{\texorpdfstring{clearOvercurrent()}{clearOvercurrent()}}
{\footnotesize\ttfamily void Motor\+::clear\+Overcurrent (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Clear for overcurrent conditions in the motor. 

Clear overcurrent conditions by stopping all motor action. \mbox{\Hypertarget{classMotor_a8f658b7d6f245359a1d962c339dd6493}\label{classMotor_a8f658b7d6f245359a1d962c339dd6493}} 
\index{Motor@{Motor}!FlagChk@{FlagChk}}
\index{FlagChk@{FlagChk}!Motor@{Motor}}
\doxysubsubsection{\texorpdfstring{FlagChk()}{FlagChk()}}
{\footnotesize\ttfamily bool Motor\+::\+Flag\+Chk (\begin{DoxyParamCaption}\item[{Mot\+Flag}]{flag }\end{DoxyParamCaption})}



Check \mbox{\hyperlink{classMotor}{Motor}} flags. 

Check the motor flags to see if an error has been detected, otherwise return enabled. 
\begin{DoxyParams}{Parameters}
{\em flag} & The flag of type Mot\+Flag as defined by the class. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The status of the \char`\"{}flag register\char`\"{} representing the state of the motors. If all is good, this is true. Errors drive it false. 
\end{DoxyReturn}
\mbox{\Hypertarget{classMotor_af8511cc423185dfdb783a9cee1696e79}\label{classMotor_af8511cc423185dfdb783a9cee1696e79}} 
\index{Motor@{Motor}!set@{set}}
\index{set@{set}!Motor@{Motor}}
\doxysubsubsection{\texorpdfstring{set()}{set()}}
{\footnotesize\ttfamily void Motor\+::set (\begin{DoxyParamCaption}\item[{int16\+\_\+t}]{pwm }\end{DoxyParamCaption})}



Set the motor P\+WM to the passed parameter. 

Set the motor P\+WM to the passed parameter. Includes handling of negative P\+W\+Ms to pass appropriate P\+W\+Ms to the two pins to allow for both speed and directional control of a single motor. 
\begin{DoxyParams}{Parameters}
{\em pwm} & The desired pulse width modulation value (between 0 and 255) desired to spin the motor. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classMotor_a9dc225bd98371eec21e147d0ff960ce5}\label{classMotor_a9dc225bd98371eec21e147d0ff960ce5}} 
\index{Motor@{Motor}!stop@{stop}}
\index{stop@{stop}!Motor@{Motor}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void Motor\+::stop (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Stop motor rotation. 

Stop motor rotation by passing a P\+WM of zero to both P\+WM channels. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/\+Motor\+\_\+\+Drivers/Motor.\+h\item 
src/\+Motor\+\_\+\+Drivers/\mbox{\hyperlink{Motor_8cpp}{Motor.\+cpp}}\end{DoxyCompactItemize}
